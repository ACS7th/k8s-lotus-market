FROM gradle:jdk17 AS runtime

WORKDIR /app

<<<<<<< HEAD:back-ns/spring-lotus-market/Dockerfile-dev
=======
# 필요한 파일 복사
>>>>>>> ca4898ee8ba9e7a1c2c62d2bfbf72b3c7b7336ad:apps/spring-lotus-market/Dockerfile-dev
COPY gradle gradle
COPY gradlew .
COPY build.gradle .
COPY settings.gradle .
COPY src src

<<<<<<< HEAD:back-ns/spring-lotus-market/Dockerfile-dev
RUN ./gradlew clean assemble --no-daemon

=======
# 필요한 Gradle 종속성을 미리 다운로드하여 캐싱
RUN ./gradlew clean assemble --no-daemon

# 개발 환경에서 bootRun 실행
>>>>>>> ca4898ee8ba9e7a1c2c62d2bfbf72b3c7b7336ad:apps/spring-lotus-market/Dockerfile-dev
CMD ["./gradlew", "bootRun", "--no-daemon"]
